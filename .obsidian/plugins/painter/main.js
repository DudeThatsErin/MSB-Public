/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/
"use strict";

var Jt=Object.defineProperty;var ln=Object.getOwnPropertyDescriptor;var cn=Object.getOwnPropertyNames;var hn=Object.prototype.hasOwnProperty;var un=(i,t)=>{for(var e in t)Jt(i,e,{get:t[e],enumerable:!0})},dn=(i,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of cn(t))!hn.call(i,o)&&o!==e&&Jt(i,o,{get:()=>t[o],enumerable:!(n=ln(t,o))||n.enumerable});return i};var fn=i=>dn(Jt({},"__esModule",{value:!0}),i);var zn={};un(zn,{default:()=>Qt});module.exports=fn(zn);var rn=require("obsidian");var D=require("obsidian");var Et=["none","text-color","lowlight","floating","rounded","realistic"],De=["css-classes","inline-styles"],te={highlighterStyle:"none",highlighterMethods:"css-classes",highlighters:{r:"#bf616a",g:"#a3be8c",p:"#b48ead",b:"#81a1c1",aa:"#a5756233",o:"#d08770"},highlighterOrder:[],menuMode:"normal",cleanSelectors:[],overwriteMarks:!0};te.highlighterOrder=Object.keys(te.highlighters);var Te=te;function Oe(i){let t=i.toString(16);return t.length===1?"0"+t:t}function _e(i){return parseInt(i,16)}var xe=i=>i[Math.floor(Math.random()*i.length)];function Ie(i){try{let t=new URL(i)}catch(t){return!1}return!0}var Pe=require("obsidian");function Nt(i){let t=createSvg("svg",{attr:{version:"1.1",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}}),e=t.createSvg("g",{attr:{fill:"none",stroke:i,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":2}});return e.createSvg("path",{attr:{d:"m9 11-6 6v3h9l3-3",fill:i}}),e.createSvg("path",{attr:{d:"m22 12l-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4"}}),e.createSvg("path",{attr:{d:"m14 4 8 8-8-8",fill:"none",stroke:i,"stroke-linecap":"butt","stroke-linejoin":"miter"}}),t}function ee(i,t){let e={"painter-icon":Nt("currentColor")};for(let n of t.settings.highlighterOrder){let o=`painter-icon-${n}`.toLowerCase();e[o]=Nt(i.highlighters[n])}return Object.keys(e).forEach(n=>{(0,Pe.addIcon)(n,e[n].outerHTML)}),e}function Ae(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),e.push.apply(e,n)}return e}function q(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Ae(Object(e),!0).forEach(function(n){gn(i,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):Ae(Object(e)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(e,n))})}return i}function kt(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?kt=function(t){return typeof t}:kt=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kt(i)}function gn(i,t,e){return t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function J(){return J=Object.assign||function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},J.apply(this,arguments)}function pn(i,t){if(i==null)return{};var e={},n=Object.keys(i),o,r;for(r=0;r<n.length;r++)o=n[r],!(t.indexOf(o)>=0)&&(e[o]=i[o]);return e}function mn(i,t){if(i==null)return{};var e=pn(i,t),n,o;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);for(o=0;o<r.length;o++)n=r[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(i,n)&&(e[n]=i[n])}return e}var vn="1.15.2";function Q(i){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(i)}var tt=Q(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),It=Q(/Edge/i),Me=Q(/firefox/i),Dt=Q(/safari/i)&&!Q(/chrome/i)&&!Q(/android/i),Ge=Q(/iP(ad|od|hone)/i),$e=Q(/chrome/i)&&Q(/android/i),Xe={capture:!1,passive:!1};function C(i,t,e){i.addEventListener(t,e,!tt&&Xe)}function w(i,t,e){i.removeEventListener(t,e,!tt&&Xe)}function Yt(i,t){if(t){if(t[0]===">"&&(t=t.substring(1)),i)try{if(i.matches)return i.matches(t);if(i.msMatchesSelector)return i.msMatchesSelector(t);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function bn(i){return i.host&&i!==document&&i.host.nodeType?i.host:i.parentNode}function K(i,t,e,n){if(i){e=e||document;do{if(t!=null&&(t[0]===">"?i.parentNode===e&&Yt(i,t):Yt(i,t))||n&&i===e)return i;if(i===e)break}while(i=bn(i))}return null}var Ne=/\s+/g;function $(i,t,e){if(i&&t)if(i.classList)i.classList[e?"add":"remove"](t);else{var n=(" "+i.className+" ").replace(Ne," ").replace(" "+t+" "," ");i.className=(n+(e?" "+t:"")).replace(Ne," ")}}function v(i,t,e){var n=i&&i.style;if(n){if(e===void 0)return document.defaultView&&document.defaultView.getComputedStyle?e=document.defaultView.getComputedStyle(i,""):i.currentStyle&&(e=i.currentStyle),t===void 0?e:e[t];!(t in n)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),n[t]=e+(typeof e=="string"?"":"px")}}function pt(i,t){var e="";if(typeof i=="string")e=i;else do{var n=v(i,"transform");n&&n!=="none"&&(e=n+" "+e)}while(!t&&(i=i.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(e)}function Ye(i,t,e){if(i){var n=i.getElementsByTagName(t),o=0,r=n.length;if(e)for(;o<r;o++)e(n[o],o);return n}return[]}function z(){var i=document.scrollingElement;return i||document.documentElement}function N(i,t,e,n,o){if(!(!i.getBoundingClientRect&&i!==window)){var r,s,a,c,l,d,f;if(i!==window&&i.parentNode&&i!==z()?(r=i.getBoundingClientRect(),s=r.top,a=r.left,c=r.bottom,l=r.right,d=r.height,f=r.width):(s=0,a=0,c=window.innerHeight,l=window.innerWidth,d=window.innerHeight,f=window.innerWidth),(t||e)&&i!==window&&(o=o||i.parentNode,!tt))do if(o&&o.getBoundingClientRect&&(v(o,"transform")!=="none"||e&&v(o,"position")!=="static")){var g=o.getBoundingClientRect();s-=g.top+parseInt(v(o,"border-top-width")),a-=g.left+parseInt(v(o,"border-left-width")),c=s+r.height,l=a+r.width;break}while(o=o.parentNode);if(n&&i!==window){var p=pt(o||i),m=p&&p.a,E=p&&p.d;p&&(s/=E,a/=m,f/=m,d/=E,c=s+d,l=a+f)}return{top:s,left:a,bottom:c,right:l,width:f,height:d}}}function Le(i,t,e){for(var n=rt(i,!0),o=N(i)[t];n;){var r=N(n)[e],s=void 0;if(e==="top"||e==="left"?s=o>=r:s=o<=r,!s)return n;if(n===z())break;n=rt(n,!1)}return!1}function mt(i,t,e,n){for(var o=0,r=0,s=i.children;r<s.length;){if(s[r].style.display!=="none"&&s[r]!==b.ghost&&(n||s[r]!==b.dragged)&&K(s[r],e.draggable,i,!1)){if(o===t)return s[r];o++}r++}return null}function pe(i,t){for(var e=i.lastElementChild;e&&(e===b.ghost||v(e,"display")==="none"||t&&!Yt(e,t));)e=e.previousElementSibling;return e||null}function j(i,t){var e=0;if(!i||!i.parentNode)return-1;for(;i=i.previousElementSibling;)i.nodeName.toUpperCase()!=="TEMPLATE"&&i!==b.clone&&(!t||Yt(i,t))&&e++;return e}function He(i){var t=0,e=0,n=z();if(i)do{var o=pt(i),r=o.a,s=o.d;t+=i.scrollLeft*r,e+=i.scrollTop*s}while(i!==n&&(i=i.parentNode));return[t,e]}function Sn(i,t){for(var e in i)if(i.hasOwnProperty(e)){for(var n in t)if(t.hasOwnProperty(n)&&t[n]===i[e][n])return Number(e)}return-1}function rt(i,t){if(!i||!i.getBoundingClientRect)return z();var e=i,n=!1;do if(e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight){var o=v(e);if(e.clientWidth<e.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||e.clientHeight<e.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!e.getBoundingClientRect||e===document.body)return z();if(n||t)return e;n=!0}}while(e=e.parentNode);return z()}function En(i,t){if(i&&t)for(var e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function ne(i,t){return Math.round(i.top)===Math.round(t.top)&&Math.round(i.left)===Math.round(t.left)&&Math.round(i.height)===Math.round(t.height)&&Math.round(i.width)===Math.round(t.width)}var Tt;function We(i,t){return function(){if(!Tt){var e=arguments,n=this;e.length===1?i.call(n,e[0]):i.apply(n,e),Tt=setTimeout(function(){Tt=void 0},t)}}}function yn(){clearTimeout(Tt),Tt=void 0}function je(i,t,e){i.scrollLeft+=t,i.scrollTop+=e}function Ve(i){var t=window.Polymer,e=window.jQuery||window.Zepto;return t&&t.dom?t.dom(i).cloneNode(!0):e?e(i).clone(!0)[0]:i.cloneNode(!0)}function Ke(i,t,e){var n={};return Array.from(i.children).forEach(function(o){var r,s,a,c;if(!(!K(o,t.draggable,i,!1)||o.animated||o===e)){var l=N(o);n.left=Math.min((r=n.left)!==null&&r!==void 0?r:1/0,l.left),n.top=Math.min((s=n.top)!==null&&s!==void 0?s:1/0,l.top),n.right=Math.max((a=n.right)!==null&&a!==void 0?a:-1/0,l.right),n.bottom=Math.max((c=n.bottom)!==null&&c!==void 0?c:-1/0,l.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var Y="Sortable"+new Date().getTime();function wn(){var i=[],t;return{captureAnimationState:function(){if(i=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(o){if(!(v(o,"display")==="none"||o===b.ghost)){i.push({target:o,rect:N(o)});var r=q({},i[i.length-1].rect);if(o.thisAnimationDuration){var s=pt(o,!0);s&&(r.top-=s.f,r.left-=s.e)}o.fromRect=r}})}},addAnimationState:function(n){i.push(n)},removeAnimationState:function(n){i.splice(Sn(i,{target:n}),1)},animateAll:function(n){var o=this;if(!this.options.animation){clearTimeout(t),typeof n=="function"&&n();return}var r=!1,s=0;i.forEach(function(a){var c=0,l=a.target,d=l.fromRect,f=N(l),g=l.prevFromRect,p=l.prevToRect,m=a.rect,E=pt(l,!0);E&&(f.top-=E.f,f.left-=E.e),l.toRect=f,l.thisAnimationDuration&&ne(g,f)&&!ne(d,f)&&(m.top-f.top)/(m.left-f.left)===(d.top-f.top)/(d.left-f.left)&&(c=Dn(m,g,p,o.options)),ne(f,d)||(l.prevFromRect=d,l.prevToRect=f,c||(c=o.options.animation),o.animate(l,m,f,c)),c&&(r=!0,s=Math.max(s,c),clearTimeout(l.animationResetTimer),l.animationResetTimer=setTimeout(function(){l.animationTime=0,l.prevFromRect=null,l.fromRect=null,l.prevToRect=null,l.thisAnimationDuration=null},c),l.thisAnimationDuration=c)}),clearTimeout(t),r?t=setTimeout(function(){typeof n=="function"&&n()},s):typeof n=="function"&&n(),i=[]},animate:function(n,o,r,s){if(s){v(n,"transition",""),v(n,"transform","");var a=pt(this.el),c=a&&a.a,l=a&&a.d,d=(o.left-r.left)/(c||1),f=(o.top-r.top)/(l||1);n.animatingX=!!d,n.animatingY=!!f,v(n,"transform","translate3d("+d+"px,"+f+"px,0)"),this.forRepaintDummy=Cn(n),v(n,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),v(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){v(n,"transition",""),v(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},s)}}}}function Cn(i){return i.offsetWidth}function Dn(i,t,e,n){return Math.sqrt(Math.pow(t.top-i.top,2)+Math.pow(t.left-i.left,2))/Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))*n.animation}var ut=[],ie={initializeByDefault:!0},Pt={mount:function(t){for(var e in ie)ie.hasOwnProperty(e)&&!(e in t)&&(t[e]=ie[e]);ut.forEach(function(n){if(n.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),ut.push(t)},pluginEvent:function(t,e,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var r=t+"Global";ut.forEach(function(s){e[s.pluginName]&&(e[s.pluginName][r]&&e[s.pluginName][r](q({sortable:e},n)),e.options[s.pluginName]&&e[s.pluginName][t]&&e[s.pluginName][t](q({sortable:e},n)))})},initializePlugins:function(t,e,n,o){ut.forEach(function(a){var c=a.pluginName;if(!(!t.options[c]&&!a.initializeByDefault)){var l=new a(t,e,t.options);l.sortable=t,l.options=t.options,t[c]=l,J(n,l.defaults)}});for(var r in t.options)if(t.options.hasOwnProperty(r)){var s=this.modifyOption(t,r,t.options[r]);typeof s!="undefined"&&(t.options[r]=s)}},getEventProperties:function(t,e){var n={};return ut.forEach(function(o){typeof o.eventProperties=="function"&&J(n,o.eventProperties.call(e[o.pluginName],t))}),n},modifyOption:function(t,e,n){var o;return ut.forEach(function(r){t[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[e]=="function"&&(o=r.optionListeners[e].call(t[r.pluginName],n))}),o}};function Tn(i){var t=i.sortable,e=i.rootEl,n=i.name,o=i.targetEl,r=i.cloneEl,s=i.toEl,a=i.fromEl,c=i.oldIndex,l=i.newIndex,d=i.oldDraggableIndex,f=i.newDraggableIndex,g=i.originalEvent,p=i.putSortable,m=i.extraEventProperties;if(t=t||e&&e[Y],!!t){var E,T=t.options,L="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!tt&&!It?E=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(E=document.createEvent("Event"),E.initEvent(n,!0,!0)),E.to=s||e,E.from=a||e,E.item=o||e,E.clone=r,E.oldIndex=c,E.newIndex=l,E.oldDraggableIndex=d,E.newDraggableIndex=f,E.originalEvent=g,E.pullMode=p?p.lastPutMode:void 0;var O=q(q({},m),Pt.getEventProperties(n,t));for(var W in O)E[W]=O[W];e&&e.dispatchEvent(E),T[L]&&T[L].call(t,E)}}var On=["evt"],B=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=n.evt,r=mn(n,On);Pt.pluginEvent.bind(b)(t,e,q({dragEl:u,parentEl:P,ghostEl:S,rootEl:x,nextEl:ct,lastDownEl:Bt,cloneEl:I,cloneHidden:ot,dragStarted:yt,putSortable:H,activeSortable:b.active,originalEvent:o,oldIndex:gt,oldDraggableIndex:Ot,newIndex:X,newDraggableIndex:it,hideGhostForTarget:Ze,unhideGhostForTarget:Qe,cloneNowHidden:function(){ot=!0},cloneNowShown:function(){ot=!1},dispatchSortableEvent:function(a){k({sortable:e,name:a,originalEvent:o})}},r))};function k(i){Tn(q({putSortable:H,cloneEl:I,targetEl:u,rootEl:x,oldIndex:gt,oldDraggableIndex:Ot,newIndex:X,newDraggableIndex:it},i))}var u,P,S,x,ct,Bt,I,ot,gt,X,Ot,it,Lt,H,ft=!1,Wt=!1,jt=[],at,V,oe,re,Re,Fe,yt,dt,_t,xt=!1,Ht=!1,Gt,F,se=[],ue=!1,Vt=[],Ut=typeof document!="undefined",Rt=Ge,ke=It||tt?"cssFloat":"float",_n=Ut&&!$e&&!Ge&&"draggable"in document.createElement("div"),Ue=function(){if(Ut){if(tt)return!1;var i=document.createElement("x");return i.style.cssText="pointer-events:auto",i.style.pointerEvents==="auto"}}(),ze=function(t,e){var n=v(t),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=mt(t,0,e),s=mt(t,1,e),a=r&&v(r),c=s&&v(s),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+N(r).width,d=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+N(s).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&a.float&&a.float!=="none"){var f=a.float==="left"?"left":"right";return s&&(c.clear==="both"||c.clear===f)?"vertical":"horizontal"}return r&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||l>=o&&n[ke]==="none"||s&&n[ke]==="none"&&l+d>o)?"vertical":"horizontal"},xn=function(t,e,n){var o=n?t.left:t.top,r=n?t.right:t.bottom,s=n?t.width:t.height,a=n?e.left:e.top,c=n?e.right:e.bottom,l=n?e.width:e.height;return o===a||r===c||o+s/2===a+l/2},In=function(t,e){var n;return jt.some(function(o){var r=o[Y].options.emptyInsertThreshold;if(!(!r||pe(o))){var s=N(o),a=t>=s.left-r&&t<=s.right+r,c=e>=s.top-r&&e<=s.bottom+r;if(a&&c)return n=o}}),n},qe=function(t){function e(r,s){return function(a,c,l,d){var f=a.options.group.name&&c.options.group.name&&a.options.group.name===c.options.group.name;if(r==null&&(s||f))return!0;if(r==null||r===!1)return!1;if(s&&r==="clone")return r;if(typeof r=="function")return e(r(a,c,l,d),s)(a,c,l,d);var g=(s?a:c).options.group.name;return r===!0||typeof r=="string"&&r===g||r.join&&r.indexOf(g)>-1}}var n={},o=t.group;(!o||kt(o)!="object")&&(o={name:o}),n.name=o.name,n.checkPull=e(o.pull,!0),n.checkPut=e(o.put),n.revertClone=o.revertClone,t.group=n},Ze=function(){!Ue&&S&&v(S,"display","none")},Qe=function(){!Ue&&S&&v(S,"display","")};Ut&&!$e&&document.addEventListener("click",function(i){if(Wt)return i.preventDefault(),i.stopPropagation&&i.stopPropagation(),i.stopImmediatePropagation&&i.stopImmediatePropagation(),Wt=!1,!1},!0);var lt=function(t){if(u){t=t.touches?t.touches[0]:t;var e=In(t.clientX,t.clientY);if(e){var n={};for(var o in t)t.hasOwnProperty(o)&&(n[o]=t[o]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[Y]._onDragOver(n)}}},Pn=function(t){u&&u.parentNode[Y]._isOutsideThisEl(t.target)};function b(i,t){if(!(i&&i.nodeType&&i.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(i));this.el=i,this.options=t=J({},t),i[Y]=this;var e={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(i.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ze(i,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,a){s.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:b.supportPointer!==!1&&"PointerEvent"in window&&!Dt,emptyInsertThreshold:5};Pt.initializePlugins(this,i,e);for(var n in e)!(n in t)&&(t[n]=e[n]);qe(t);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=t.forceFallback?!1:_n,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?C(i,"pointerdown",this._onTapStart):(C(i,"mousedown",this._onTapStart),C(i,"touchstart",this._onTapStart)),this.nativeDraggable&&(C(i,"dragover",this),C(i,"dragenter",this)),jt.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),J(this,wn())}b.prototype={constructor:b,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(dt=null)},_getDirection:function(t,e){return typeof this.options.direction=="function"?this.options.direction.call(this,t,e,u):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,o=this.options,r=o.preventOnFilter,s=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,c=(a||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||c,d=o.filter;if(kn(n),!u&&!(/mousedown|pointerdown/.test(s)&&t.button!==0||o.disabled)&&!l.isContentEditable&&!(!this.nativeDraggable&&Dt&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=K(c,o.draggable,n,!1),!(c&&c.animated)&&Bt!==c)){if(gt=j(c),Ot=j(c,o.draggable),typeof d=="function"){if(d.call(this,t,c,this)){k({sortable:e,rootEl:l,name:"filter",targetEl:c,toEl:n,fromEl:n}),B("filter",e,{evt:t}),r&&t.cancelable&&t.preventDefault();return}}else if(d&&(d=d.split(",").some(function(f){if(f=K(l,f.trim(),n,!1),f)return k({sortable:e,rootEl:f,name:"filter",targetEl:c,fromEl:n,toEl:n}),B("filter",e,{evt:t}),!0}),d)){r&&t.cancelable&&t.preventDefault();return}o.handle&&!K(l,o.handle,n,!1)||this._prepareDragStart(t,a,c)}}},_prepareDragStart:function(t,e,n){var o=this,r=o.el,s=o.options,a=r.ownerDocument,c;if(n&&!u&&n.parentNode===r){var l=N(n);if(x=r,u=n,P=u.parentNode,ct=u.nextSibling,Bt=n,Lt=s.group,b.dragged=u,at={target:u,clientX:(e||t).clientX,clientY:(e||t).clientY},Re=at.clientX-l.left,Fe=at.clientY-l.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,u.style["will-change"]="all",c=function(){if(B("delayEnded",o,{evt:t}),b.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!Me&&o.nativeDraggable&&(u.draggable=!0),o._triggerDragStart(t,e),k({sortable:o,name:"choose",originalEvent:t}),$(u,s.chosenClass,!0)},s.ignore.split(",").forEach(function(d){Ye(u,d.trim(),ae)}),C(a,"dragover",lt),C(a,"mousemove",lt),C(a,"touchmove",lt),C(a,"mouseup",o._onDrop),C(a,"touchend",o._onDrop),C(a,"touchcancel",o._onDrop),Me&&this.nativeDraggable&&(this.options.touchStartThreshold=4,u.draggable=!0),B("delayStart",this,{evt:t}),s.delay&&(!s.delayOnTouchOnly||e)&&(!this.nativeDraggable||!(It||tt))){if(b.eventCanceled){this._onDrop();return}C(a,"mouseup",o._disableDelayedDrag),C(a,"touchend",o._disableDelayedDrag),C(a,"touchcancel",o._disableDelayedDrag),C(a,"mousemove",o._delayedDragTouchMoveHandler),C(a,"touchmove",o._delayedDragTouchMoveHandler),s.supportPointer&&C(a,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(c,s.delay)}else c()}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){u&&ae(u),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;w(t,"mouseup",this._disableDelayedDrag),w(t,"touchend",this._disableDelayedDrag),w(t,"touchcancel",this._disableDelayedDrag),w(t,"mousemove",this._delayedDragTouchMoveHandler),w(t,"touchmove",this._delayedDragTouchMoveHandler),w(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||t.pointerType=="touch"&&t,!this.nativeDraggable||e?this.options.supportPointer?C(document,"pointermove",this._onTouchMove):e?C(document,"touchmove",this._onTouchMove):C(document,"mousemove",this._onTouchMove):(C(u,"dragend",this),C(x,"dragstart",this._onDragStart));try{document.selection?$t(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(t,e){if(ft=!1,x&&u){B("dragStarted",this,{evt:e}),this.nativeDraggable&&C(document,"dragover",Pn);var n=this.options;!t&&$(u,n.dragClass,!1),$(u,n.ghostClass,!0),b.active=this,t&&this._appendGhost(),k({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(V){this._lastX=V.clientX,this._lastY=V.clientY,Ze();for(var t=document.elementFromPoint(V.clientX,V.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(V.clientX,V.clientY),t!==e);)e=t;if(u.parentNode[Y]._isOutsideThisEl(t),e)do{if(e[Y]){var n=void 0;if(n=e[Y]._onDragOver({clientX:V.clientX,clientY:V.clientY,target:t,rootEl:e}),n&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);Qe()}},_onTouchMove:function(t){if(at){var e=this.options,n=e.fallbackTolerance,o=e.fallbackOffset,r=t.touches?t.touches[0]:t,s=S&&pt(S,!0),a=S&&s&&s.a,c=S&&s&&s.d,l=Rt&&F&&He(F),d=(r.clientX-at.clientX+o.x)/(a||1)+(l?l[0]-se[0]:0)/(a||1),f=(r.clientY-at.clientY+o.y)/(c||1)+(l?l[1]-se[1]:0)/(c||1);if(!b.active&&!ft){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(S){s?(s.e+=d-(oe||0),s.f+=f-(re||0)):s={a:1,b:0,c:0,d:1,e:d,f};var g="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");v(S,"webkitTransform",g),v(S,"mozTransform",g),v(S,"msTransform",g),v(S,"transform",g),oe=d,re=f,V=r}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!S){var t=this.options.fallbackOnBody?document.body:x,e=N(u,!0,Rt,!0,t),n=this.options;if(Rt){for(F=t;v(F,"position")==="static"&&v(F,"transform")==="none"&&F!==document;)F=F.parentNode;F!==document.body&&F!==document.documentElement?(F===document&&(F=z()),e.top+=F.scrollTop,e.left+=F.scrollLeft):F=z(),se=He(F)}S=u.cloneNode(!0),$(S,n.ghostClass,!1),$(S,n.fallbackClass,!0),$(S,n.dragClass,!0),v(S,"transition",""),v(S,"transform",""),v(S,"box-sizing","border-box"),v(S,"margin",0),v(S,"top",e.top),v(S,"left",e.left),v(S,"width",e.width),v(S,"height",e.height),v(S,"opacity","0.8"),v(S,"position",Rt?"absolute":"fixed"),v(S,"zIndex","100000"),v(S,"pointerEvents","none"),b.ghost=S,t.appendChild(S),v(S,"transform-origin",Re/parseInt(S.style.width)*100+"% "+Fe/parseInt(S.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,o=t.dataTransfer,r=n.options;if(B("dragStart",this,{evt:t}),b.eventCanceled){this._onDrop();return}B("setupClone",this),b.eventCanceled||(I=Ve(u),I.removeAttribute("id"),I.draggable=!1,I.style["will-change"]="",this._hideClone(),$(I,this.options.chosenClass,!1),b.clone=I),n.cloneId=$t(function(){B("clone",n),!b.eventCanceled&&(n.options.removeCloneOnHide||x.insertBefore(I,u),n._hideClone(),k({sortable:n,name:"clone"}))}),!e&&$(u,r.dragClass,!0),e?(Wt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(w(document,"mouseup",n._onDrop),w(document,"touchend",n._onDrop),w(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",r.setData&&r.setData.call(n,o,u)),C(document,"drop",n),v(u,"transform","translateZ(0)")),ft=!0,n._dragStartId=$t(n._dragStarted.bind(n,e,t)),C(document,"selectstart",n),yt=!0,Dt&&v(document.body,"user-select","none")},_onDragOver:function(t){var e=this.el,n=t.target,o,r,s,a=this.options,c=a.group,l=b.active,d=Lt===c,f=a.sort,g=H||l,p,m=this,E=!1;if(ue)return;function T(St,sn){B(St,m,q({evt:t,isOwner:d,axis:p?"vertical":"horizontal",revert:s,dragRect:o,targetRect:r,canSort:f,fromSortable:g,target:n,completed:O,onMove:function(Ce,an){return Ft(x,e,u,o,Ce,N(Ce),t,an)},changed:W},sn))}function L(){T("dragOverAnimationCapture"),m.captureAnimationState(),m!==g&&g.captureAnimationState()}function O(St){return T("dragOverCompleted",{insertion:St}),St&&(d?l._hideClone():l._showClone(m),m!==g&&($(u,H?H.options.ghostClass:l.options.ghostClass,!1),$(u,a.ghostClass,!0)),H!==m&&m!==b.active?H=m:m===b.active&&H&&(H=null),g===m&&(m._ignoreWhileAnimating=n),m.animateAll(function(){T("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==g&&(g.animateAll(),g._ignoreWhileAnimating=null)),(n===u&&!u.animated||n===e&&!n.animated)&&(dt=null),!a.dragoverBubble&&!t.rootEl&&n!==document&&(u.parentNode[Y]._isOutsideThisEl(t.target),!St&&lt(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),E=!0}function W(){X=j(u),it=j(u,a.draggable),k({sortable:m,name:"change",toEl:e,newIndex:X,newDraggableIndex:it,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),n=K(n,a.draggable,e,!0),T("dragOver"),b.eventCanceled)return E;if(u.contains(t.target)||n.animated&&n.animatingX&&n.animatingY||m._ignoreWhileAnimating===n)return O(!1);if(Wt=!1,l&&!a.disabled&&(d?f||(s=P!==x):H===this||(this.lastPutMode=Lt.checkPull(this,l,u,t))&&c.checkPut(this,l,u,t))){if(p=this._getDirection(t,n)==="vertical",o=N(u),T("dragOverValid"),b.eventCanceled)return E;if(s)return P=x,L(),this._hideClone(),T("revert"),b.eventCanceled||(ct?x.insertBefore(u,ct):x.appendChild(u)),O(!0);var R=pe(e,a.draggable);if(!R||Ln(t,p,this)&&!R.animated){if(R===u)return O(!1);if(R&&e===t.target&&(n=R),n&&(r=N(n)),Ft(x,e,u,o,n,r,t,!!n)!==!1)return L(),R&&R.nextSibling?e.insertBefore(u,R.nextSibling):e.appendChild(u),P=e,W(),O(!0)}else if(R&&Nn(t,p,this)){var et=mt(e,0,a,!0);if(et===u)return O(!1);if(n=et,r=N(n),Ft(x,e,u,o,n,r,t,!1)!==!1)return L(),e.insertBefore(u,et),P=e,W(),O(!0)}else if(n.parentNode===e){r=N(n);var h=0,y,_=u.parentNode!==e,A=!xn(u.animated&&u.toRect||o,n.animated&&n.toRect||r,p),st=p?"top":"left",Z=Le(n,"top","top")||Le(u,"top","top"),ht=Z?Z.scrollTop:void 0;dt!==n&&(y=r[st],xt=!1,Ht=!A&&a.invertSwap||_),h=Hn(t,n,r,p,A?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Ht,dt===n);var G;if(h!==0){var U=j(u);do U-=h,G=P.children[U];while(G&&(v(G,"display")==="none"||G===S))}if(h===0||G===n)return O(!1);dt=n,_t=h;var bt=n.nextElementSibling,nt=!1;nt=h===1;var Mt=Ft(x,e,u,o,n,r,t,nt);if(Mt!==!1)return(Mt===1||Mt===-1)&&(nt=Mt===1),ue=!0,setTimeout(Mn,30),L(),nt&&!bt?e.appendChild(u):n.parentNode.insertBefore(u,nt?bt:n),Z&&je(Z,0,ht-Z.scrollTop),P=u.parentNode,y!==void 0&&!Ht&&(Gt=Math.abs(y-N(n)[st])),W(),O(!0)}if(e.contains(u))return O(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){w(document,"mousemove",this._onTouchMove),w(document,"touchmove",this._onTouchMove),w(document,"pointermove",this._onTouchMove),w(document,"dragover",lt),w(document,"mousemove",lt),w(document,"touchmove",lt)},_offUpEvents:function(){var t=this.el.ownerDocument;w(t,"mouseup",this._onDrop),w(t,"touchend",this._onDrop),w(t,"pointerup",this._onDrop),w(t,"touchcancel",this._onDrop),w(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;if(X=j(u),it=j(u,n.draggable),B("drop",this,{evt:t}),P=u&&u.parentNode,X=j(u),it=j(u,n.draggable),b.eventCanceled){this._nulling();return}ft=!1,Ht=!1,xt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),de(this.cloneId),de(this._dragStartId),this.nativeDraggable&&(w(document,"drop",this),w(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Dt&&v(document.body,"user-select",""),v(u,"transform",""),t&&(yt&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),S&&S.parentNode&&S.parentNode.removeChild(S),(x===P||H&&H.lastPutMode!=="clone")&&I&&I.parentNode&&I.parentNode.removeChild(I),u&&(this.nativeDraggable&&w(u,"dragend",this),ae(u),u.style["will-change"]="",yt&&!ft&&$(u,H?H.options.ghostClass:this.options.ghostClass,!1),$(u,this.options.chosenClass,!1),k({sortable:this,name:"unchoose",toEl:P,newIndex:null,newDraggableIndex:null,originalEvent:t}),x!==P?(X>=0&&(k({rootEl:P,name:"add",toEl:P,fromEl:x,originalEvent:t}),k({sortable:this,name:"remove",toEl:P,originalEvent:t}),k({rootEl:P,name:"sort",toEl:P,fromEl:x,originalEvent:t}),k({sortable:this,name:"sort",toEl:P,originalEvent:t})),H&&H.save()):X!==gt&&X>=0&&(k({sortable:this,name:"update",toEl:P,originalEvent:t}),k({sortable:this,name:"sort",toEl:P,originalEvent:t})),b.active&&((X==null||X===-1)&&(X=gt,it=Ot),k({sortable:this,name:"end",toEl:P,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){B("nulling",this),x=u=P=S=ct=I=Bt=ot=at=V=yt=X=it=gt=Ot=dt=_t=H=Lt=b.dragged=b.ghost=b.clone=b.active=null,Vt.forEach(function(t){t.checked=!0}),Vt.length=oe=re=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":u&&(this._onDragOver(t),An(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],e,n=this.el.children,o=0,r=n.length,s=this.options;o<r;o++)e=n[o],K(e,s.draggable,this.el,!1)&&t.push(e.getAttribute(s.dataIdAttr)||Fn(e));return t},sort:function(t,e){var n={},o=this.el;this.toArray().forEach(function(r,s){var a=o.children[s];K(a,this.options.draggable,o,!1)&&(n[r]=a)},this),e&&this.captureAnimationState(),t.forEach(function(r){n[r]&&(o.removeChild(n[r]),o.appendChild(n[r]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return K(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(e===void 0)return n[t];var o=Pt.modifyOption(this,t,e);typeof o!="undefined"?n[t]=o:n[t]=e,t==="group"&&qe(n)},destroy:function(){B("destroy",this);var t=this.el;t[Y]=null,w(t,"mousedown",this._onTapStart),w(t,"touchstart",this._onTapStart),w(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(w(t,"dragover",this),w(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),jt.splice(jt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!ot){if(B("hideClone",this),b.eventCanceled)return;v(I,"display","none"),this.options.removeCloneOnHide&&I.parentNode&&I.parentNode.removeChild(I),ot=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(ot){if(B("showClone",this),b.eventCanceled)return;u.parentNode==x&&!this.options.group.revertClone?x.insertBefore(I,u):ct?x.insertBefore(I,ct):x.appendChild(I),this.options.group.revertClone&&this.animate(u,I),v(I,"display",""),ot=!1}}};function An(i){i.dataTransfer&&(i.dataTransfer.dropEffect="move"),i.cancelable&&i.preventDefault()}function Ft(i,t,e,n,o,r,s,a){var c,l=i[Y],d=l.options.onMove,f;return window.CustomEvent&&!tt&&!It?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=t,c.from=i,c.dragged=e,c.draggedRect=n,c.related=o||t,c.relatedRect=r||N(t),c.willInsertAfter=a,c.originalEvent=s,i.dispatchEvent(c),d&&(f=d.call(l,c,s)),f}function ae(i){i.draggable=!1}function Mn(){ue=!1}function Nn(i,t,e){var n=N(mt(e.el,0,e.options,!0)),o=Ke(e.el,e.options,S),r=10;return t?i.clientX<o.left-r||i.clientY<n.top&&i.clientX<n.right:i.clientY<o.top-r||i.clientY<n.bottom&&i.clientX<n.left}function Ln(i,t,e){var n=N(pe(e.el,e.options.draggable)),o=Ke(e.el,e.options,S),r=10;return t?i.clientX>o.right+r||i.clientY>n.bottom&&i.clientX>n.left:i.clientY>o.bottom+r||i.clientX>n.right&&i.clientY>n.top}function Hn(i,t,e,n,o,r,s,a){var c=n?i.clientY:i.clientX,l=n?e.height:e.width,d=n?e.top:e.left,f=n?e.bottom:e.right,g=!1;if(!s){if(a&&Gt<l*o){if(!xt&&(_t===1?c>d+l*r/2:c<f-l*r/2)&&(xt=!0),xt)g=!0;else if(_t===1?c<d+Gt:c>f-Gt)return-_t}else if(c>d+l*(1-o)/2&&c<f-l*(1-o)/2)return Rn(t)}return g=g||s,g&&(c<d+l*r/2||c>f-l*r/2)?c>d+l/2?1:-1:0}function Rn(i){return j(u)<j(i)?1:-1}function Fn(i){for(var t=i.tagName+i.className+i.src+i.href+i.textContent,e=t.length,n=0;e--;)n+=t.charCodeAt(e);return n.toString(36)}function kn(i){Vt.length=0;for(var t=i.getElementsByTagName("input"),e=t.length;e--;){var n=t[e];n.checked&&Vt.push(n)}}function $t(i){return setTimeout(i,0)}function de(i){return clearTimeout(i)}Ut&&C(document,"touchmove",function(i){(b.active||ft)&&i.cancelable&&i.preventDefault()});b.utils={on:C,off:w,css:v,find:Ye,is:function(t,e){return!!K(t,e,t,!1)},extend:En,throttle:We,closest:K,toggleClass:$,clone:Ve,index:j,nextTick:$t,cancelNextTick:de,detectDirection:ze,getChild:mt};b.get=function(i){return i[Y]};b.mount=function(){for(var i=arguments.length,t=new Array(i),e=0;e<i;e++)t[e]=arguments[e];t[0].constructor===Array&&(t=t[0]),t.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(b.utils=q(q({},b.utils),n.utils)),Pt.mount(n)})};b.create=function(i,t){return new b(i,t)};b.version=vn;var M=[],wt,fe,ge=!1,le,ce,Kt,Ct;function Bn(){function i(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return i.prototype={dragStarted:function(e){var n=e.originalEvent;this.sortable.nativeDraggable?C(document,"dragover",this._handleAutoScroll):this.options.supportPointer?C(document,"pointermove",this._handleFallbackAutoScroll):n.touches?C(document,"touchmove",this._handleFallbackAutoScroll):C(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var n=e.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?w(document,"dragover",this._handleAutoScroll):(w(document,"pointermove",this._handleFallbackAutoScroll),w(document,"touchmove",this._handleFallbackAutoScroll),w(document,"mousemove",this._handleFallbackAutoScroll)),Be(),Xt(),yn()},nulling:function(){Kt=fe=wt=ge=Ct=le=ce=null,M.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,n){var o=this,r=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,a=document.elementFromPoint(r,s);if(Kt=e,n||this.options.forceAutoScrollFallback||It||tt||Dt){he(e,this.options,a,n);var c=rt(a,!0);ge&&(!Ct||r!==le||s!==ce)&&(Ct&&Be(),Ct=setInterval(function(){var l=rt(document.elementFromPoint(r,s),!0);l!==c&&(c=l,Xt()),he(e,o.options,l,n)},10),le=r,ce=s)}else{if(!this.options.bubbleScroll||rt(a,!0)===z()){Xt();return}he(e,this.options,rt(a,!1),!1)}}},J(i,{pluginName:"scroll",initializeByDefault:!0})}function Xt(){M.forEach(function(i){clearInterval(i.pid)}),M=[]}function Be(){clearInterval(Ct)}var he=We(function(i,t,e,n){if(t.scroll){var o=(i.touches?i.touches[0]:i).clientX,r=(i.touches?i.touches[0]:i).clientY,s=t.scrollSensitivity,a=t.scrollSpeed,c=z(),l=!1,d;fe!==e&&(fe=e,Xt(),wt=t.scroll,d=t.scrollFn,wt===!0&&(wt=rt(e,!0)));var f=0,g=wt;do{var p=g,m=N(p),E=m.top,T=m.bottom,L=m.left,O=m.right,W=m.width,R=m.height,et=void 0,h=void 0,y=p.scrollWidth,_=p.scrollHeight,A=v(p),st=p.scrollLeft,Z=p.scrollTop;p===c?(et=W<y&&(A.overflowX==="auto"||A.overflowX==="scroll"||A.overflowX==="visible"),h=R<_&&(A.overflowY==="auto"||A.overflowY==="scroll"||A.overflowY==="visible")):(et=W<y&&(A.overflowX==="auto"||A.overflowX==="scroll"),h=R<_&&(A.overflowY==="auto"||A.overflowY==="scroll"));var ht=et&&(Math.abs(O-o)<=s&&st+W<y)-(Math.abs(L-o)<=s&&!!st),G=h&&(Math.abs(T-r)<=s&&Z+R<_)-(Math.abs(E-r)<=s&&!!Z);if(!M[f])for(var U=0;U<=f;U++)M[U]||(M[U]={});(M[f].vx!=ht||M[f].vy!=G||M[f].el!==p)&&(M[f].el=p,M[f].vx=ht,M[f].vy=G,clearInterval(M[f].pid),(ht!=0||G!=0)&&(l=!0,M[f].pid=setInterval(function(){n&&this.layer===0&&b.active._onTouchMove(Kt);var bt=M[this.layer].vy?M[this.layer].vy*a:0,nt=M[this.layer].vx?M[this.layer].vx*a:0;typeof d=="function"&&d.call(b.dragged.parentNode[Y],nt,bt,i,Kt,M[this.layer].el)!=="continue"||je(M[this.layer].el,nt,bt)}.bind({layer:f}),24))),f++}while(t.bubbleScroll&&g!==c&&(g=rt(g,!1)));ge=l}},30),Je=function(t){var e=t.originalEvent,n=t.putSortable,o=t.dragEl,r=t.activeSortable,s=t.dispatchSortableEvent,a=t.hideGhostForTarget,c=t.unhideGhostForTarget;if(e){var l=n||r;a();var d=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,f=document.elementFromPoint(d.clientX,d.clientY);c(),l&&!l.el.contains(f)&&(s("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function me(){}me.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=mt(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(e,o):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:Je};J(me,{pluginName:"revertOnSpill"});function ve(){}ve.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable,o=n||this.sortable;o.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),o.animateAll()},drop:Je};J(ve,{pluginName:"removeOnSpill"});b.mount(new Bn);b.mount(ve,me);var tn=b;var zt=class extends D.PluginSettingTab{constructor(t,e){super(t,e),this.plugin=e}display(){let{containerEl:t}=this;t.empty(),new D.Setting(t).setName("Menu mode").setDesc("Set the menu style - 'minimal' shows icons only in one line").addDropdown(h=>{h.addOptions({minimal:"minimal",normal:"normal"}),h.setValue(this.plugin.settings.menuMode).onChange(y=>{this.plugin.settings.menuMode=y,this.plugin.saveSettings(),this.plugin.refresh()})}),new D.Setting(t).setName("Choose highlight method").setDesc("Choose between highlighting with inline CSS or CSS classes. Please note that there are pros and cons to both choices. Inline CSS will keep you from being reliant on external CSS files if you choose to export your notes. CSS classes are more flexible and easier to customize.").addDropdown(h=>{let y={};De.map(_=>y[_]=_),h.addOptions(y),h.setValue(this.plugin.settings.highlighterMethods).onChange(_=>{this.plugin.settings.highlighterMethods=_,setTimeout(()=>{dispatchEvent(new Event("painter:refreshstyles"))},100),this.plugin.saveSettings()})}),new D.Setting(t).setName("Additional CSS selectors to clear").setDesc('The "Painter: Clear" command clears all "mark" elements. However, you might wish to remove other elements as well. Add CSS Selectors to be cleaned here (one per line)').addTextArea(h=>{h.inputEl.addClass("painter-plugin-settings-textarea"),h.setValue(this.plugin.settings.cleanSelectors.join(`
`)),h.onChange(y=>{let _=y.split(`
`).map(A=>A.trim()).filter(A=>A!=="");this.plugin.settings.cleanSelectors=_,this.plugin.saveSettings()})}),new D.Setting(t).setName("Overwrite previous highlights").setDesc("Normally, new highlights overwrite old ones. Turn this off to keep previous highlights when highlighting. You will have to clear highlights manually when changing their color.").addToggle(h=>{h.setValue(this.plugin.settings.overwriteMarks),h.onChange(y=>{this.plugin.settings.overwriteMarks=y,this.plugin.saveSettings()})});let e=new D.Setting(t);e.setName("Choose highlight style").setClass("painter-plugin-setting-item-pick-hl").setDesc("Depending on your design aesthetic, you may want to customize the style of your highlights. Choose from an assortment of different highlighter styles by using the dropdown. Depending on your theme, this plugin's CSS may be overriden.").addDropdown(h=>{let y={};Et.map(_=>y[_]=_),h.addOptions(y),h.setValue(this.plugin.settings.highlighterStyle).onChange(_=>{this.plugin.settings.highlighterStyle=_,this.plugin.saveSettings(),this.plugin.refresh()})});let n=()=>{let h=new DocumentFragment;if(this.plugin.settings.highlighterOrder.length===0)h.appendChild(createEl("em",{text:"Add atleast 1 color to showcase different styles"}));else{let y=xe(this.plugin.settings.highlighterOrder);for(let _ of Et)h.createDiv({cls:`highlightr-${_}`}).createEl("mark",{cls:[`hltr-${y}`,"style-demo"],text:_})}return h},o=createEl("p",{cls:"painter-plugin-style-demo"});o.appendChild(n());let r=createEl("button",{text:"try different color"});r.addEventListener("click",()=>{o.textContent="",o.appendChild(n())}),e.infoEl.appendChild(o),e.infoEl.appendChild(r);let s=new D.Setting(t);s.setName("Choose highlight colors").setClass("painter-plugin-setting-item-pick-col").setDesc("Create new highlight colors by providing a color name and using the color picker to set the hex code value. Don't forget to save the color before exiting the color picker. Drag and drop the highlight color to change the order for your highlighter component.");let a=()=>{let h=E.getValue()||d;return h.startsWith("#")||(h="#"+h),h.length>7&&(h=h.slice(0,8)),h},c=()=>{let h=T.getValue()||"";return h.length>2&&(h=h.slice(0,3)),h},l=()=>a()+c(),d="#cca9ff",f=null,g=()=>{f!==null&&(f.style.backgroundColor=l(),L.setValue(a()),p(c()))},p=h=>{O.setValue(Math.round(_e(h)/255*100))},m=new D.TextComponent(s.controlEl);m.setPlaceholder("Color name"),m.inputEl.addClass("painter-plugin-settings-color");let E=new D.TextComponent(s.controlEl).setPlaceholder("Color HEX: Click off color picker to update");E.inputEl.addClass("painter-plugin-settings-value"),E.inputEl.setCssStyles({width:"5rem"});let T=new D.TextComponent(s.controlEl).setPlaceholder("Alpha");T.inputEl.setCssStyles({width:"2.75rem"}),T.setValue("ff");let L=new D.ColorComponent(s.controlEl);L.setValue(d),L.colorPickerEl.addEventListener("input",h=>{if(h.target==null&&h.currentTarget==null)return;let y=h.target||h.currentTarget;E.setValue(y.value),g()});let O=new D.SliderComponent(s.controlEl);O.setLimits(0,100,1),O.setValue(255),O.sliderEl.title="Alpha / opacity",O.sliderEl.addEventListener("input",h=>{if(h.target==null&&h.currentTarget==null)return;let y=h.target||h.currentTarget;O.showTooltip();let _=Math.round(y.valueAsNumber/100*255);T.setValue(Oe(_)),g()}),E.inputEl.addEventListener("input",h=>{var y;h.target==null&&h.currentTarget==null||(L.setValue((y=h.target||h.currentTarget)==null?void 0:y.value),g())}),T.inputEl.addEventListener("input",h=>{if(h.target==null&&h.currentTarget==null)return;let y=(h.target||h.currentTarget).value;p(y),g()}),f=s.controlEl.createDiv({cls:"painter-plugin-color-preview"}).createDiv({cls:"painter-plugin-color-preview2"}),new D.ButtonComponent(s.controlEl).setClass("painter-plugin-settings-button").setClass("painter-plugin-settings-button-add").setIcon("save").setTooltip("Save").onClick(async()=>{let h=m.getValue().replace(" ","-"),y=E.getValue();if(h.length>50&&(h=h.slice(0,51)),!h){new D.Notice("Painter: Color name missing");return}if(!y){new D.Notice("Painter: HEX code missing");return}if(!T){new D.Notice("Painter: Alpha value missing");return}this.plugin.settings.highlighterOrder.includes(h)||this.plugin.settings.highlighterOrder.push(h),this.plugin.settings.highlighters[h]=l(),await this.plugin.saveSettings(),this.topScroll=t.scrollTop,this.display(),dispatchEvent(new Event("painter:refreshstyles"))}),g();let R=t.createEl("div",{attr:{id:"painter-plugin-sortable-group"}});this.plugin.settings.highlighterOrder.forEach((h,y,_)=>{let A=R.createEl("div",{cls:"painter-plugin-item-color"}),st=A.createDiv({cls:"painter-plugin-setting-handle"});(0,D.setIcon)(st,"grip-vertical"),A.createEl("span",{cls:"painter-plugin-setting-icon"}).appendChild(Nt(this.plugin.settings.highlighters[h])),new D.Setting(A).setClass("painter-plugin-color-setting-item").setName(h).setDesc(this.plugin.settings.highlighters[h]).addButton(G=>{G.setClass("painter-plugin-settings-button").setClass("painter-plugin-settings-button-edit").setTooltip("edit").setIcon("wrench").onClick(()=>{let U=this.plugin.settings.highlighters[h];m.setValue(h),E.setValue(U.slice(0,7)),T.setValue(U.slice(7,9)||"ff"),g()})}).addButton(G=>{G.setClass("painter-plugin-settings-button").setClass("painter-plugin-settings-button-delete").setIcon("trash-2").setTooltip("Remove").onClick(async()=>{new D.Notice(`${h} highlight deleted`),this.app.commands.removeCommand(`highlightr-plugin:${h}`),delete this.plugin.settings.highlighters[h],this.plugin.settings.highlighterOrder.remove(h),setTimeout(()=>{dispatchEvent(new Event("painter:refreshstyles"))},100),await this.plugin.saveSettings(),this.topScroll=t.scrollTop,this.display()})}),createEl("a").setAttribute("href","")});let et=new tn(R,{group:"shared",animation:150,handle:".painter-plugin-setting-handle",ghostClass:"painter-plugin-ghost",onSort:({oldIndex:h,newIndex:y})=>{if(typeof h=="undefined"||typeof y=="undefined")return;let[_]=this.plugin.settings.highlighterOrder.splice(h,1);this.plugin.settings.highlighterOrder.splice(y,0,_),this.plugin.saveSettings()}});this.topScroll&&t.scrollTo({top:this.topScroll})}hide(){this.topScroll=null}};var qt=require("obsidian");var en="Paint",vt="Clear",nn="Open Painter menu";var Gn=(i,t,e,n)=>{if(!e||!e.hasFocus()){new qt.Notice("Focus must be in editor");return}let o=e.getCursor("from"),r=new qt.Menu;r.dom.addClass("painter-plugin-menu-container"),t.menuMode==="minimal"&&r.dom.addClass("minimal"),t.highlighterOrder.forEach(l=>{let d=l.toLowerCase();r.addItem(f=>{f.setTitle(l),f.setIcon(`painter-icon-${d}`),f.onClick(()=>i.commands.executeCommandById(`painter:paint-${d}`))})}),e.getSelection()&&(r.addSeparator(),r.addItem(l=>{l.setTitle(vt),l.setIcon("eraser"),l.onClick(()=>n(e))}));let s=e.posToOffset(o),a=e.cm.coordsAtPos(s),c=e.editorComponent.tableCell;if(c&&c.editorEl!==null){let l=c.editorEl.getBoundingClientRect();r.showAtPosition({x:l.x+25,y:l.y+20})}else r.showAtPosition({x:a.right+25,y:a.top+20});r.dom.querySelectorAll(".menu-item").forEach(l=>{var g;let d=l.querySelector(".menu-item-icon"),f=l.querySelector(".menu-item-title");d===null||f===null||(d.title=(g=f==null?void 0:f.textContent)!=null?g:"")})},Zt=Gn;function be(i,t,e,n,o){let r=e.getSelection();t.addSeparator(),t.addItem(s=>{s.dom.addClass("painter-plugin-menu-button"),s.setTitle(en).setIcon("painter-icon").onClick(async()=>Zt(i,o,e,n.eraseHighlight.bind(n)))}),r&&t.addItem(s=>{s.setTitle(vt).setIcon("eraser").onClick(()=>{e.getSelection()&&n.eraseHighlight(e)})})}function Se(i){let t="";for(let[e,n]of Object.entries(i.highlighters)){let o=e.toLowerCase();t+=`
		.hltr-${o}, mark.hltr-${o}, .markdown-preview-view mark.hltr-${o} {
			--hltr-color: ${n};
		}
		`}Ee(),document.head.createEl("style",{attr:{id:"painter-styles"},text:t})}function Ee(){let i=document.getElementById("painter-styles");i!==null&&i.remove()}var on={ch:0,ln:0,cursor:"to"},$n={expand:!0,moveCursorToEnd:!1},Xn=new DOMParser;function Yn(i,t=on){let e=Object.assign(on,t),n=i.getCursor(e.cursor);n.ch+=e.ch,e.ln&&(n.line+=e.ln),i.setCursor(n)}function we(i,t,e=!1){let n=i.getCursor("head"),o=i.getSelection(),r=Xn.parseFromString(o,"text/html"),s=!0;for(let c of t)if(r.querySelectorAll(c).length>0){s=!1;break}if(s)return;for(let c of t)r.querySelectorAll(c).forEach(l=>{l.replaceWith(...Array.from(l.childNodes))});let a=r.body.innerHTML;i.replaceSelection(a),i.hasFocus()||i.focus(),e&&i.setSelection(n,i.getCursor("head"))}var Wn=['"',"(","[","###### ","##### ","#### ","### ","## ","# ","- [ ] ","- [x] ","- ",">"," ",`
`,"	"],jn=['"',")","](","::","]",`
`,"	"," "],Vn=[["#",""],["[[","]]"],["","]]"],["[[",""],['"','"'],["'","'"],["(",")"],["$",""],["","\u20AC"],["",": ","trim_last_space"],["[","] ","trim_last_space"]],Kn=["png","jpg","jpeg","gif","tiff"],ye=(i,t)=>i.line===t.line&&i.ch===t.ch,Un=(i,t)=>ye(i.anchor,t.anchor)&&ye(i.head,t.head),At=class{constructor(t){this.editor=t}startOffset(){return this.editor.posToOffset(this.editor.getCursor("from"))}endOffset(){return this.editor.posToOffset(this.editor.getCursor("to"))}noteLength(){return this.editor.getValue().length}offToPos(t){return t<0&&(t=0),t>this.noteLength()&&(t=this.noteLength()),this.editor.offsetToPos(t)}isOutsideSelection(t,e){let n=this.startOffset(),o=this.endOffset();if(n-t.length<0||o-e.length>this.noteLength())return!1;let r=this.editor.getRange(this.offToPos(n-t.length),this.offToPos(n)),s=this.editor.getRange(this.offToPos(o),this.offToPos(o+e.length));return r===t&&s===e}isMultiLineMarkup(t){return["`","%%","<!--","$"].includes(t)}markupOutsideSel(t,e){return this.isOutsideSelection(t,e)}markupOutsideMultiline(t,e,n,o){if(n.line===0||o.line===this.editor.lastLine())return!1;let r=this.editor.getLine(n.line-1),s=this.editor.getLine(o.line+1);return r.startsWith(t)&&s.startsWith(e)}getSel(){return{anchor:this.editor.getCursor("anchor"),head:this.editor.getCursor("head")}}noSel(){return!this.editor.somethingSelected()}multiLineSel(){return this.editor.getSelection().includes(`
`)}deleteLine(t){if(t<this.editor.lastLine()){let e={line:t,ch:0},n={line:t+1,ch:0};this.editor.replaceRange("",e,n)}else{let e={line:t-1,ch:this.editor.getLine(t).length},n={line:t,ch:this.editor.getLine(t).length};this.editor.replaceRange("",e,n)}}textUnderCursor(t,e,n){if(this.markupOutsideSel(t,e)&&this.noSel())return{anchor:n,head:n};let o,r;if(t!=="`"){if(this.editor.cm instanceof window.CodeMirror)return this.editor.cm.findWordAt(n);let s=this.editor.cm.state.wordAt(this.editor.posToOffset(n));if(!s)return{anchor:n,head:n};r=this.offToPos(s.from),o=this.offToPos(s.to)}if(t==="`"||t==="$"){let s=this.editor.posToOffset(n),a,c,[l,d,f,g]=[0,0,!1,!1];for(;!/\s/.test(c)&&!g;)c=this.editor.getRange(this.offToPos(s-(l+1)),this.offToPos(s-l)),l++,s-(l-1)===0&&(g=!0);for(;!/\s/.test(a)&&!f;)a=this.editor.getRange(this.offToPos(s+d),this.offToPos(s+d+1)),d++,s+(d-1)===this.noteLength()&&(f=!0);r=this.offToPos(s-(l-1)),o=this.offToPos(s+(d-1))}return{anchor:r,head:o}}trimSelection(t,e){let n=jn,o=Wn;this.isMultiLineMarkup(t)?(o=[t],n=[e]):e&&(o.push(t),n.push(e));let r=this.editor.getSelection(),s=this.startOffset(),a=!1;for(;!a;){let l=0;for(let d of o)r.startsWith(d)?(r=r.slice(d.length),s+=d.length):l++;(l===o.length||!r.length)&&(a=!0)}for(a=!1;!a;){let l=0;for(let d of n)r.endsWith(d)?r=r.slice(0,-d.length):l++;(l===n.length||!r.length)&&(a=!0)}let c=r.match(/ \^\w+$/);c&&(r=r.slice(0,-c[0].length)),this.editor.setSelection(this.offToPos(s),this.offToPos(s+r.length))}expandSelection(t,e,n=!0){this.trimSelection(t,e);let o=this.editor.getCursor("from"),r=this.editor.getCursor("to"),s=this.textUnderCursor(t,e,o),a=this.textUnderCursor(t,e,r);if(!ye(o,r)&&r.ch>0){let l=this.textUnderCursor(t,e,{...r,ch:r.ch-1});Un(a,l)||(a=l)}this.editor.setSelection(s.anchor,a.head),this.trimSelection(t,e);let c=Vn;for(let l of c){if(l[0]===t||l[1]===e)return;let d=!!l[2];this.isOutsideSelection(l[0],l[1])&&(s.anchor.ch-=l[0].length,a.head.ch+=l[1].length,d&&a.head.ch--,this.editor.setSelection(s.anchor,a.head))}return n?{anchor:s.anchor,head:a.head}:{anchor:o,head:r}}recalibratePos(t,e){for(let n of t)e.line===n.line&&(e.ch+=n.shift);return e}async insertURLtoMDLink(t,e){let n=(await navigator.clipboard.readText()).trim(),o=t,r=e;if(Ie(n)){r="]("+n+")";let s=n.split(".").pop();s&&Kn.includes(s)&&(o="![")}return[o,r]}async wrapSelection(t,e,n){var f;let o=Object.assign($n,n),r=(g,p,m,E=!0)=>{let T=this.editor.getSelection(),L=this.startOffset(),O=this.endOffset();this.noSel()&&m==="multi"||(this.markupOutsideSel(t,e)||(["%%","<!--"].includes(t)&&(T=" "+T+" ",O=O+2,a++,c++),this.editor.replaceSelection(t+T+e),l.push({line:g.line,shift:a},{line:p.line,shift:c}),g.ch+=a,p.ch+=a),this.markupOutsideSel(t,e)&&(this.editor.setSelection(this.offToPos(L-a),this.offToPos(O+c)),this.editor.replaceSelection(T),l.push({line:g.line,shift:-a},{line:p.line,shift:-c}),g.ch-=a,p.ch-=a),m==="single"&&(o.moveCursorToEnd?Yn(this.editor,{ch:1}):this.editor.setSelection(g,p)))};function s(){let g=this.editor.getCursor("from");g.ch=0;let p=this.editor.getCursor("to");if(p.ch=this.editor.getLine(p.line).length,t==="`"?(t="```",e="```",c=3,a=3):t==="$"&&(t="$$",e="$$",c=2,a=2),!this.markupOutsideMultiline(g,p)&&(this.editor.setSelection(g),this.editor.replaceSelection(t+`
`),p.line++,this.editor.setSelection(p),this.editor.replaceSelection(`
`+e),t==="```")){let m=g;m.ch=3,this.editor.setSelection(m)}this.markupOutsideMultiline(g,p)&&(this.deleteLine(g.line-1),this.deleteLine(p.line))}if(t==="new-line"){editor.newlineOnly();return}e==="]()"&&([t,e]=await this.insertURLtoMDLink(t,e));let a=t.length,c=e.length,l=[],d=(f=this.editor)==null?void 0:f.listSelections();for(let g of d)if(g.anchor=this.recalibratePos(l,g.anchor),g.head=this.recalibratePos(l,g.head),this.editor.setSelection(g.anchor,g.head),this.trimSelection(t,e),this.multiLineSel()){if(this.multiLineSel()&&this.isMultiLineMarkup(t))s();else if(this.multiLineSel()&&!this.isMultiLineMarkup(t)){let p=this.startOffset(),m=this.editor.getSelection().split(`
`);for(let E of m){this.editor.setSelection(this.offToPos(p),this.offToPos(p+E.length));let{anchor:T,head:L}=o.expand?this.expandSelection(t,e,!1):this.getSel();p+=E.length+1,this.markupOutsideSel(t,e)?p-=a+c:p+=a+c,r(T,L,"multi")}}}else{let{anchor:p,head:m}=o.expand?this.expandSelection(t,e,!1):this.getSel();r(p,m,"single")}}};var Qt=class extends rn.Plugin{async onload(){console.log(`Painter v${this.manifest.version} loaded`),await this.loadSettings(),this.app.workspace.onLayoutReady(()=>{this.reloadStyles(this.settings),ee(this.settings,this)}),this.registerEvent(this.app.workspace.on("editor-menu",this.handleHighlighterInContextMenu.bind(this))),this.addSettingTab(new zt(this.app,this)),this.addCommand({id:"open-menu",name:nn,icon:"painter-icon",editorCallback:t=>{document.querySelector(".menu.painter-plugin-menu-container")||Zt(this.app,this.settings,t,this.eraseHighlight.bind(this))}}),addEventListener("painter:refreshstyles",()=>{this.reloadStyles(this.settings),this.generateCommands(this.editor),ee(this.settings,this)}),this.generateCommands(this.editor),this.refresh()}reloadStyles(t){let e=document.querySelector("style#highlightr-styles");e?(e.remove(),Se(t)):Se(t)}eraseHighlight(t){we(t,[...this.settings.cleanSelectors,"mark"])}createPrefix(t,e,n,o){let s=n==="css-classes"?`class="hltr-${e.toLowerCase()}"`:`style="${o==="text-color"?"color":"background-color"}:${this.settings.highlighters[e]}"`;return`<${t} ${s}>`}applyCommand(t,e){let n=t.prefix,o=t.suffix||n;this.settings.overwriteMarks&&we(e,["mark"],!0);let r=new At(e);r.trimSelection(n,o),r.wrapSelection(n,o,{expand:e.getSelection().length===0,moveCursorToEnd:!0})}generateCommands(t){for(let e of this.settings.highlighterOrder){let n=e.toLowerCase(),o={char:0,line:0,prefix:this.createPrefix("mark",e,this.settings.highlighterMethods,this.settings.highlighterStyle),suffix:"</mark>"};this.addCommand({id:`paint-${n}`,name:e,icon:`painter-icon-${n}`,editorCallback:async r=>{this.applyCommand(o,r)}}),this.addCommand({id:"remove-highlight",name:vt,icon:"eraser",editorCallback:async r=>{this.eraseHighlight(r),r.focus()}})}}refresh(){this.updateStyle()}updateStyle(){for(let t of Et)document.body.classList.toggle(`highlightr-${t}`,this.settings.highlighterStyle===t)}onunload(){Ee(),console.log("Painter unloaded")}handleHighlighterInContextMenu(t,e){be(this.app,t,e,this,this.settings)}async loadSettings(){this.settings=Object.assign({},Te,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}};
/*! Bundled license information:

sortablejs/modular/sortable.esm.js:
  (**!
   * Sortable 1.15.2
   * @author	RubaXa   <trash@rubaxa.org>
   * @author	owenm    <owen23355@gmail.com>
   * @license MIT
   *)
*/

/* nosourcemap */