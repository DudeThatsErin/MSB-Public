/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => Things3Plugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");

// src/url.ts
function urlEncode(line) {
  line = encodeURIComponent(line);
  return line;
}
function constructDeeplink(fileName, vaultName) {
  const url = `obsidian://open?vault=${vaultName}&file=${fileName}`;
  return url;
}

// src/things3.ts
function createTodo(todo, deepLink) {
  const title = todo.title.replace(/ /g, "%20").replace(/&/g, "%26");
  const url = `things:///add?title=${title}&notes=${deepLink}&when=${todo.date}&x-success=obsidian://things-sync-id&tags=${todo.tags}`;
  window.open(url);
}
function updateTodo(todoId, completed, authToken) {
  const url = `things:///update?id=${todoId}&completed=${completed}&auth-token=${authToken}`;
  window.open(url);
}
function createTodoFromNote(todo, deepLink) {
  const url = `things:///add?title=${todo.title}&notes=${deepLink}&when=${todo.date}`;
  window.open(url);
}

// src/extractor.ts
function extractDate(line) {
  const regex = /^(19|20)\d\d([- /.])(0[1-9]|1[012])\2(0[1-9]|[12][0-9]|3[01])/;
  let date = "";
  const res = line.match(regex);
  if (res) {
    date = res[0];
  }
  return date;
}
function extractTitle(line) {
  const regex = /[^#\s\-\[\]*](.*)/gs;
  const content = line.match(regex);
  let title = "";
  if (content != null) {
    title = content[0];
  }
  return title;
}
function extractTags(line, setting_tags) {
  const regex = /#([^\s]+)/gs;
  const array = [...line.matchAll(regex)];
  const tag_array = array.map((x) => x[1]);
  if (setting_tags.length > 0) {
    tag_array.push(setting_tags);
  }
  line = line.replace(regex, "");
  const tags = tag_array.join(",");
  return tags;
}
function extractTarget(line) {
  const regexId = /id=(\w+)/;
  const id = line.match(regexId);
  let todoId;
  if (id != null) {
    todoId = id[1];
  } else {
    todoId = "";
  }
  const regexStatus = /\[(.)\]/;
  const status = line.match(regexStatus);
  let afterStatus;
  if (status && status[1] == " ") {
    afterStatus = "true";
  } else {
    afterStatus = "false";
  }
  return { todoId, afterStatus };
}

// src/main.ts
function getCurrentLine(editor, view) {
  const lineNumber = editor.getCursor().line;
  const lineText = editor.getLine(lineNumber);
  return lineText;
}
var DEFAULT_SETTINGS = {
  authToken: "",
  defaultTags: "",
  detachedMode: false
};
function contructTodo(line, settings, fileName) {
  line = line.trim();
  const tags = extractTags(line, settings.defaultTags);
  const date = extractDate(line) || extractDate(fileName);
  line = line.replace(/#([^\s]+)/gs, "");
  const todo = {
    title: extractTitle(line),
    tags,
    date
  };
  return todo;
}
var Things3Plugin = class extends import_obsidian.Plugin {
  async onload() {
    await this.loadSettings();
    this.addSettingTab(new Things3SyncSettingTab(this.app, this));
    this.registerObsidianProtocolHandler("things-sync-id", async (id) => {
      if (this.settings.detachedMode) {
        return;
      }
      const todoID = id["x-things-id"];
      const view = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
      if (view == null) {
        return;
      } else {
        const editor = view.editor;
        const currentLine = getCurrentLine(editor, view);
        const firstLetterIndex = currentLine.search(/[^\s#\-\[\]*]/);
        const line = currentLine.substring(firstLetterIndex, currentLine.length);
        const editorPosition = view.editor.getCursor();
        const lineLength = view.editor.getLine(editorPosition.line).length;
        const startRange = {
          line: editorPosition.line,
          ch: firstLetterIndex
        };
        const endRange = {
          line: editorPosition.line,
          ch: lineLength
        };
        if (firstLetterIndex > 0) {
          view.editor.replaceRange(`[${line}](things:///show?id=${todoID})`, startRange, endRange);
        } else {
          view.editor.replaceRange(`- [ ] [${line}](things:///show?id=${todoID})`, startRange, endRange);
        }
      }
    });
    this.addCommand({
      id: "create-things-todo",
      name: "Create Things Todo",
      editorCallback: (editor, view) => {
        const workspace = this.app.workspace;
        const vault = this.app.vault;
        const fileTitle = workspace.getActiveFile();
        if (fileTitle == null) {
          return;
        } else {
          let fileName = urlEncode(fileTitle.name);
          fileName = fileName.replace(/\.md$/, "");
          const vaultName = urlEncode(vault.getName());
          const obsidianDeepLink = constructDeeplink(fileName, vaultName);
          const encodedLink = urlEncode(obsidianDeepLink);
          const line = getCurrentLine(editor, view);
          const todo = contructTodo(line, this.settings, fileName);
          createTodo(todo, encodedLink);
        }
      }
    });
    this.addCommand({
      id: "toggle-things-todo",
      name: "Toggle Things Todo",
      editorCallback: (editor, view) => {
        const workspace = this.app.workspace;
        const fileTitle = workspace.getActiveFile();
        if (fileTitle == null) {
          return;
        } else {
          const line = getCurrentLine(editor, view);
          const target = extractTarget(line);
          if (target.todoId == "") {
            new import_obsidian.Notice(`This is not a things3 todo`);
          } else {
            view.app.commands.executeCommandById("editor:toggle-checklist-status");
            updateTodo(target.todoId, target.afterStatus, this.settings.authToken);
            new import_obsidian.Notice(`${target.todoId} set completed:${target.afterStatus} on things3`);
          }
        }
      }
    });
    this.addCommand({
      id: "create-things-todo-from-note",
      name: "Create Things Todo from Note",
      editorCallback: (editor, view) => {
        const workspace = this.app.workspace;
        const vault = this.app.vault;
        const fileTitle = workspace.getActiveFile();
        if (fileTitle == null) {
          return;
        } else {
          let fileName = urlEncode(fileTitle.name);
          fileName = fileName.replace(/\.md$/, "");
          const vaultName = urlEncode(vault.getName());
          const obsidianDeepLink = constructDeeplink(fileName, vaultName);
          const encodedLink = urlEncode(obsidianDeepLink);
          const todo = contructTodo(fileName, this.settings, fileName);
          createTodoFromNote(todo, encodedLink);
        }
      }
    });
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var Things3SyncSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Settings for Obsidian Things3 Sync." });
    new import_obsidian.Setting(containerEl).setName("Auth Token").setDesc("Require Things3 Auth Token for syncing Todo status; Get Auth Token			via Things3 -> Preferences -> General -> Enable things URL -> Manage.").addText((text) => text.setPlaceholder("Leave Things3 Auth Token here").setValue(this.plugin.settings.authToken).onChange(async (value) => {
      this.plugin.settings.authToken = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Default Tags").setDesc("The default tags for Obsidian Todo; Using comma(,) 			to separate multiple tags; Leave this in blank for no default tags").addText((text) => text.setPlaceholder("Leave your tags here").setValue(this.plugin.settings.defaultTags).onChange(async (value) => {
      this.plugin.settings.defaultTags = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL3VybC50cyIsICJzcmMvdGhpbmdzMy50cyIsICJzcmMvZXh0cmFjdG9yLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBBcHAsIEVkaXRvciwgTWFya2Rvd25WaWV3LCBFZGl0b3JQb3NpdGlvbiwgUGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLCBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XG5cbmltcG9ydCB7XG5cdHVybEVuY29kZSxcblx0Y29uc3RydWN0RGVlcGxpbmtcbn0gZnJvbSAnLi91cmwnO1xuXG5pbXBvcnQge1xuXHRUb2RvSW5mbyxcblx0Y3JlYXRlVG9kbyxcblx0dXBkYXRlVG9kbyxcblx0Y3JlYXRlVG9kb0Zyb21Ob3RlXG59IGZyb20gJy4vdGhpbmdzMyc7XG5cbmltcG9ydCB7XG5cdGV4dHJhY3REYXRlLFxuXHRleHRyYWN0VGFncyxcblx0ZXh0cmFjdFRhcmdldCxcblx0ZXh0cmFjdFRpdGxlXG59IGZyb20gJy4vZXh0cmFjdG9yJ1xuXG4vLyBpbXBvcnQgeyByYW5nZUJ5U3RlcCwgUXVldWUgfSBmcm9tICcuL3V0aWxzJztcblxuZnVuY3Rpb24gZ2V0Q3VycmVudExpbmUoZWRpdG9yOiBFZGl0b3IsIHZpZXc6IE1hcmtkb3duVmlldykge1xuXHRjb25zdCBsaW5lTnVtYmVyID0gZWRpdG9yLmdldEN1cnNvcigpLmxpbmVcblx0Y29uc3QgbGluZVRleHQgPSBlZGl0b3IuZ2V0TGluZShsaW5lTnVtYmVyKVxuXHRyZXR1cm4gbGluZVRleHRcbn1cblxuaW50ZXJmYWNlIFBsdWdpblNldHRpbmdzIHtcblx0YXV0aFRva2VuOiBzdHJpbmcsXG5cdGRlZmF1bHRUYWdzOiBzdHJpbmcsXG5cdGRldGFjaGVkTW9kZTogYm9vbGVhblxufVxuXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBQbHVnaW5TZXR0aW5ncyA9IHtcblx0YXV0aFRva2VuOiAnJyxcblx0ZGVmYXVsdFRhZ3M6ICcnLFxuXHRkZXRhY2hlZE1vZGU6IGZhbHNlXG59XG5cbmZ1bmN0aW9uIGNvbnRydWN0VG9kbyhsaW5lOiBzdHJpbmcsIHNldHRpbmdzOiBQbHVnaW5TZXR0aW5ncywgZmlsZU5hbWU6IHN0cmluZyl7XG5cdGxpbmUgPSBsaW5lLnRyaW0oKTtcblx0Y29uc3QgdGFncyA9IGV4dHJhY3RUYWdzKGxpbmUsIHNldHRpbmdzLmRlZmF1bHRUYWdzKTtcblx0Y29uc3QgZGF0ZSA9IGV4dHJhY3REYXRlKGxpbmUpIHx8IGV4dHJhY3REYXRlKGZpbGVOYW1lKTtcblx0bGluZSA9IGxpbmUucmVwbGFjZSgvIyhbXlxcc10rKS9ncywgJycpO1xuXG5cdGNvbnN0IHRvZG86IFRvZG9JbmZvID0ge1xuXHRcdHRpdGxlOiBleHRyYWN0VGl0bGUobGluZSksXG5cdFx0dGFnczogdGFncyxcblx0XHRkYXRlOiBkYXRlXG5cdH1cblxuXHRyZXR1cm4gdG9kbztcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGhpbmdzM1BsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG5cdHNldHRpbmdzOiBQbHVnaW5TZXR0aW5ncztcblxuXHRhc3luYyBvbmxvYWQoKSB7XG5cdFx0Ly8gUXVldWUgZm9yIHVwZGF0ZSBtdWx0aSBsaWVuc1xuXHRcdC8vIGNvbnN0IHRvQ2hhbmdlID0gbmV3IFF1ZXVlPG51bWJlcj4oKTtcblxuXHRcdC8vIFNldHVwIFNldHRpbmdzIFRhYlxuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBUaGluZ3MzU3luY1NldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcblxuXHRcdC8vIFJlZ2lzdGVyIFByb3RvY29sIEhhbmRsZXJcblx0XHR0aGlzLnJlZ2lzdGVyT2JzaWRpYW5Qcm90b2NvbEhhbmRsZXIoXCJ0aGluZ3Mtc3luYy1pZFwiLCBhc3luYyAoaWQpID0+IHtcblx0XHRcdGlmICh0aGlzLnNldHRpbmdzLmRldGFjaGVkTW9kZSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRjb25zdCB0b2RvSUQgPSBpZFsneC10aGluZ3MtaWQnXTtcblx0XHRcdGNvbnN0IHZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpO1xuXHRcdFx0aWYgKHZpZXcgPT0gbnVsbCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zdCBlZGl0b3IgPSB2aWV3LmVkaXRvclxuXHRcdFx0XHQvLyBjb25zdCBsID0gdG9DaGFuZ2UuZGVxdWV1ZSgpO1xuXHRcdFx0XHQvLyBlZGl0b3Iuc2V0Q3Vyc29yKGwpO1xuXHRcdFx0XHRjb25zdCBjdXJyZW50TGluZSA9IGdldEN1cnJlbnRMaW5lKGVkaXRvciwgdmlldylcblx0XHRcdFx0Y29uc3QgZmlyc3RMZXR0ZXJJbmRleCA9IGN1cnJlbnRMaW5lLnNlYXJjaCgvW15cXHMjXFwtXFxbXFxdKl0vKTtcblx0XHRcdFx0Y29uc3QgbGluZSA9IGN1cnJlbnRMaW5lLnN1YnN0cmluZyhmaXJzdExldHRlckluZGV4LCBjdXJyZW50TGluZS5sZW5ndGgpXG5cdFx0XHRcdGNvbnN0IGVkaXRvclBvc2l0aW9uID0gdmlldy5lZGl0b3IuZ2V0Q3Vyc29yKClcblx0XHRcdFx0Y29uc3QgbGluZUxlbmd0aCA9IHZpZXcuZWRpdG9yLmdldExpbmUoZWRpdG9yUG9zaXRpb24ubGluZSkubGVuZ3RoXG5cdFx0XHRcdGNvbnN0IHN0YXJ0UmFuZ2U6IEVkaXRvclBvc2l0aW9uID0ge1xuXHRcdFx0XHRcdGxpbmU6IGVkaXRvclBvc2l0aW9uLmxpbmUsXG5cdFx0XHRcdFx0Y2g6IGZpcnN0TGV0dGVySW5kZXhcblx0XHRcdFx0fVxuXHRcdFx0XHRjb25zdCBlbmRSYW5nZTogRWRpdG9yUG9zaXRpb24gPSB7XG5cdFx0XHRcdFx0bGluZTogZWRpdG9yUG9zaXRpb24ubGluZSxcblx0XHRcdFx0XHRjaDogbGluZUxlbmd0aFxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGZpcnN0TGV0dGVySW5kZXggPiAwKSB7XG5cdFx0XHRcdFx0dmlldy5lZGl0b3IucmVwbGFjZVJhbmdlKGBbJHtsaW5lfV0odGhpbmdzOi8vL3Nob3c/aWQ9JHt0b2RvSUR9KWAsIHN0YXJ0UmFuZ2UsIGVuZFJhbmdlKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR2aWV3LmVkaXRvci5yZXBsYWNlUmFuZ2UoYC0gWyBdIFske2xpbmV9XSh0aGluZ3M6Ly8vc2hvdz9pZD0ke3RvZG9JRH0pYCwgc3RhcnRSYW5nZSwgZW5kUmFuZ2UpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBDcmVhdGUgVE9ETyBDb21tYW5kXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiAnY3JlYXRlLXRoaW5ncy10b2RvJyxcblx0XHRcdG5hbWU6ICdDcmVhdGUgVGhpbmdzIFRvZG8nLFxuXHRcdFx0ZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3I6IEVkaXRvciwgdmlldzogTWFya2Rvd25WaWV3KSA9PiB7XG5cdFx0XHRcdGNvbnN0IHdvcmtzcGFjZSA9IHRoaXMuYXBwLndvcmtzcGFjZTtcblx0XHRcdFx0Y29uc3QgdmF1bHQgPSB0aGlzLmFwcC52YXVsdDtcblx0XHRcdFx0Y29uc3QgZmlsZVRpdGxlID0gd29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKVxuXHRcdFx0XHRpZiAoZmlsZVRpdGxlID09IG51bGwpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bGV0IGZpbGVOYW1lID0gdXJsRW5jb2RlKGZpbGVUaXRsZS5uYW1lKVxuXHRcdFx0XHRcdGZpbGVOYW1lID0gZmlsZU5hbWUucmVwbGFjZSgvXFwubWQkLywgJycpXG5cdFx0XHRcdFx0Y29uc3QgdmF1bHROYW1lID0gdXJsRW5jb2RlKHZhdWx0LmdldE5hbWUoKSk7XG5cdFx0XHRcdFx0Y29uc3Qgb2JzaWRpYW5EZWVwTGluayA9IGNvbnN0cnVjdERlZXBsaW5rKGZpbGVOYW1lLCB2YXVsdE5hbWUpO1xuXHRcdFx0XHRcdC8vIGNvbnN0IG9ic2lkaWFuRGVlcExpbmsgPSAodGhpcy5hcHAgYXMgYW55KS5nZXRPYnNpZGlhblVybChmaWxlVGl0bGUpXG5cdFx0XHRcdFx0Y29uc3QgZW5jb2RlZExpbmsgPSB1cmxFbmNvZGUob2JzaWRpYW5EZWVwTGluayk7XG5cdFx0XHRcdFx0Y29uc3QgbGluZSA9IGdldEN1cnJlbnRMaW5lKGVkaXRvciwgdmlldyk7XG5cdFx0XHRcdFx0Y29uc3QgdG9kbyA9IGNvbnRydWN0VG9kbyhsaW5lLCB0aGlzLnNldHRpbmdzLCBmaWxlTmFtZSk7XG5cdFx0XHRcdFx0Y3JlYXRlVG9kbyh0b2RvLCBlbmNvZGVkTGluaylcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gVG9nZ2xlIHRhc2sgc3RhdHVzIGFuZCBzeW5jIHRvIHRoaW5nc1xuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ3RvZ2dsZS10aGluZ3MtdG9kbycsXG5cdFx0XHRuYW1lOiAnVG9nZ2xlIFRoaW5ncyBUb2RvJyxcblx0XHRcdGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yOiBFZGl0b3IsIHZpZXc6IE1hcmtkb3duVmlldykgPT4ge1xuXHRcdFx0XHRjb25zdCB3b3Jrc3BhY2UgPSB0aGlzLmFwcC53b3Jrc3BhY2U7XG5cdFx0XHRcdGNvbnN0IGZpbGVUaXRsZSA9IHdvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKClcblx0XHRcdFx0aWYgKGZpbGVUaXRsZSA9PSBudWxsKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnN0IGxpbmUgPSBnZXRDdXJyZW50TGluZShlZGl0b3IsIHZpZXcpXG5cdFx0XHRcdFx0Y29uc3QgdGFyZ2V0ID0gZXh0cmFjdFRhcmdldChsaW5lKVxuXHRcdFx0XHRcdGlmICh0YXJnZXQudG9kb0lkID09ICcnKSB7XG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBUaGlzIGlzIG5vdCBhIHRoaW5nczMgdG9kb2ApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR2aWV3LmFwcC5jb21tYW5kcy5leGVjdXRlQ29tbWFuZEJ5SWQoXCJlZGl0b3I6dG9nZ2xlLWNoZWNrbGlzdC1zdGF0dXNcIilcblx0XHRcdFx0XHRcdHVwZGF0ZVRvZG8odGFyZ2V0LnRvZG9JZCwgdGFyZ2V0LmFmdGVyU3RhdHVzLCB0aGlzLnNldHRpbmdzLmF1dGhUb2tlbilcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYCR7dGFyZ2V0LnRvZG9JZH0gc2V0IGNvbXBsZXRlZDoke3RhcmdldC5hZnRlclN0YXR1c30gb24gdGhpbmdzM2ApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gVG9nZ2xlIHRhc2sgc3RhdHVzIGFuZCBzeW5jIHRvIHRoaW5nc1xuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ2NyZWF0ZS10aGluZ3MtdG9kby1mcm9tLW5vdGUnLFxuXHRcdFx0bmFtZTogJ0NyZWF0ZSBUaGluZ3MgVG9kbyBmcm9tIE5vdGUnLFxuXHRcdFx0ZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3I6IEVkaXRvciwgdmlldzogTWFya2Rvd25WaWV3KSA9PiB7XG5cdFx0XHRcdGNvbnN0IHdvcmtzcGFjZSA9IHRoaXMuYXBwLndvcmtzcGFjZTtcblx0XHRcdFx0Y29uc3QgdmF1bHQgPSB0aGlzLmFwcC52YXVsdDtcblx0XHRcdFx0Y29uc3QgZmlsZVRpdGxlID0gd29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKVxuXHRcdFx0XHRpZiAoZmlsZVRpdGxlID09IG51bGwpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bGV0IGZpbGVOYW1lID0gdXJsRW5jb2RlKGZpbGVUaXRsZS5uYW1lKVxuXHRcdFx0XHRcdGZpbGVOYW1lID0gZmlsZU5hbWUucmVwbGFjZSgvXFwubWQkLywgJycpXG5cdFx0XHRcdFx0Y29uc3QgdmF1bHROYW1lID0gdXJsRW5jb2RlKHZhdWx0LmdldE5hbWUoKSk7XG5cdFx0XHRcdFx0Y29uc3Qgb2JzaWRpYW5EZWVwTGluayA9IGNvbnN0cnVjdERlZXBsaW5rKGZpbGVOYW1lLCB2YXVsdE5hbWUpO1xuXHRcdFx0XHRcdGNvbnN0IGVuY29kZWRMaW5rID0gdXJsRW5jb2RlKG9ic2lkaWFuRGVlcExpbmspO1xuXHRcdFx0XHRcdGNvbnN0IHRvZG8gPSBjb250cnVjdFRvZG8oZmlsZU5hbWUsIHRoaXMuc2V0dGluZ3MsIGZpbGVOYW1lKTtcblx0XHRcdFx0XHRjcmVhdGVUb2RvRnJvbU5vdGUodG9kbywgZW5jb2RlZExpbmspXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblxuXHR9XG5cblx0b251bmxvYWQoKSB7XG5cdH1cblxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG5cdH1cblxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0fVxufVxuXG5jbGFzcyBUaGluZ3MzU3luY1NldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcblx0cGx1Z2luOiBUaGluZ3MzUGx1Z2luO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IFRoaW5nczNQbHVnaW4pIHtcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHRkaXNwbGF5KCk6IHZvaWQge1xuXHRcdGNvbnN0IHtjb250YWluZXJFbH0gPSB0aGlzO1xuXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnaDInLCB7dGV4dDogJ1NldHRpbmdzIGZvciBPYnNpZGlhbiBUaGluZ3MzIFN5bmMuJ30pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnQXV0aCBUb2tlbicpXG5cdFx0XHQuc2V0RGVzYygnUmVxdWlyZSBUaGluZ3MzIEF1dGggVG9rZW4gZm9yIHN5bmNpbmcgVG9kbyBzdGF0dXM7IEdldCBBdXRoIFRva2VuXFxcblx0XHRcdHZpYSBUaGluZ3MzIC0+IFByZWZlcmVuY2VzIC0+IEdlbmVyYWwgLT4gRW5hYmxlIHRoaW5ncyBVUkwgLT4gTWFuYWdlLicpXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdMZWF2ZSBUaGluZ3MzIEF1dGggVG9rZW4gaGVyZScpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdXRoVG9rZW4pXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdXRoVG9rZW4gPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnRGVmYXVsdCBUYWdzJylcblx0XHRcdC5zZXREZXNjKCdUaGUgZGVmYXVsdCB0YWdzIGZvciBPYnNpZGlhbiBUb2RvOyBVc2luZyBjb21tYSgsKSBcXFxuXHRcdFx0dG8gc2VwYXJhdGUgbXVsdGlwbGUgdGFnczsgTGVhdmUgdGhpcyBpbiBibGFuayBmb3Igbm8gZGVmYXVsdCB0YWdzJylcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ0xlYXZlIHlvdXIgdGFncyBoZXJlJylcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHRUYWdzKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdFRhZ3MgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXHR9XG59XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIHVybEVuY29kZShsaW5lOiBzdHJpbmcpIHtcblx0bGluZSA9IGVuY29kZVVSSUNvbXBvbmVudChsaW5lKVxuXHRyZXR1cm4gbGluZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29uc3RydWN0RGVlcGxpbmsoZmlsZU5hbWU6IHN0cmluZywgdmF1bHROYW1lOiBzdHJpbmcpe1xuXHRjb25zdCB1cmwgPSBgb2JzaWRpYW46Ly9vcGVuP3ZhdWx0PSR7dmF1bHROYW1lfSZmaWxlPSR7ZmlsZU5hbWV9YDtcblx0cmV0dXJuIHVybDtcbn1cbiIsICJleHBvcnQgaW50ZXJmYWNlIFRvZG9JbmZvIHtcblx0dGl0bGU6IHN0cmluZyxcblx0dGFnczogc3RyaW5nLFxuXHRkYXRlOiBzdHJpbmdcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRvZG8odG9kbzogVG9kb0luZm8sIGRlZXBMaW5rOiBzdHJpbmcpe1xuXHRjb25zdCB0aXRsZSA9IHRvZG8udGl0bGUucmVwbGFjZSgvIC9nLCAnJTIwJykucmVwbGFjZSgvJi9nLCAnJTI2Jyk7XG5cdGNvbnN0IHVybCA9IGB0aGluZ3M6Ly8vYWRkP3RpdGxlPSR7dGl0bGV9Jm5vdGVzPSR7ZGVlcExpbmt9JndoZW49JHt0b2RvLmRhdGV9Jngtc3VjY2Vzcz1vYnNpZGlhbjovL3RoaW5ncy1zeW5jLWlkJnRhZ3M9JHt0b2RvLnRhZ3N9YDtcblx0d2luZG93Lm9wZW4odXJsKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVRvZG8odG9kb0lkOiBzdHJpbmcsIGNvbXBsZXRlZDogc3RyaW5nLCBhdXRoVG9rZW46IHN0cmluZyl7XG5cdGNvbnN0IHVybCA9IGB0aGluZ3M6Ly8vdXBkYXRlP2lkPSR7dG9kb0lkfSZjb21wbGV0ZWQ9JHtjb21wbGV0ZWR9JmF1dGgtdG9rZW49JHthdXRoVG9rZW59YDtcblx0d2luZG93Lm9wZW4odXJsKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRvZG9Gcm9tTm90ZSh0b2RvOiBUb2RvSW5mbywgZGVlcExpbms6IHN0cmluZyl7XG5cdGNvbnN0IHVybCA9IGB0aGluZ3M6Ly8vYWRkP3RpdGxlPSR7dG9kby50aXRsZX0mbm90ZXM9JHtkZWVwTGlua30md2hlbj0ke3RvZG8uZGF0ZX1gO1xuXHR3aW5kb3cub3Blbih1cmwpO1xufVxuIiwgIlxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3REYXRlKGxpbmU6c3RyaW5nKSB7XG5cdGNvbnN0IHJlZ2V4ID0gL14oMTl8MjApXFxkXFxkKFstIC8uXSkoMFsxLTldfDFbMDEyXSlcXDIoMFsxLTldfFsxMl1bMC05XXwzWzAxXSkvXG5cdGxldCBkYXRlID0gJyc7XG5cdGNvbnN0IHJlcyA9IGxpbmUubWF0Y2gocmVnZXgpO1xuXHRpZiAocmVzKSB7XG4gICAgZGF0ZSA9IHJlc1swXTtcbiAgfVxuXHRyZXR1cm4gZGF0ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RUaXRsZShsaW5lOiBzdHJpbmcpIHtcblx0Y29uc3QgcmVnZXggPSAvW14jXFxzXFwtXFxbXFxdKl0oLiopL2dzXG5cdGNvbnN0IGNvbnRlbnQgPSBsaW5lLm1hdGNoKHJlZ2V4KTtcblx0bGV0IHRpdGxlID0gJyc7XG5cdGlmIChjb250ZW50ICE9IG51bGwpIHtcblx0XHR0aXRsZSA9IGNvbnRlbnRbMF1cblx0fVxuXG5cdHJldHVybiB0aXRsZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RUYWdzKGxpbmU6IHN0cmluZywgc2V0dGluZ190YWdzOiBzdHJpbmcpe1xuXHRjb25zdCByZWdleCA9IC8jKFteXFxzXSspL2dzXG5cdGNvbnN0IGFycmF5ID0gWy4uLmxpbmUubWF0Y2hBbGwocmVnZXgpXVxuXHRjb25zdCB0YWdfYXJyYXkgPSBhcnJheS5tYXAoeCA9PiB4WzFdKVxuXHRpZiAoc2V0dGluZ190YWdzLmxlbmd0aCA+IDApIHtcblx0XHR0YWdfYXJyYXkucHVzaChzZXR0aW5nX3RhZ3MpO1xuXHR9XG5cdGxpbmUgPSBsaW5lLnJlcGxhY2UocmVnZXgsICcnKTtcblx0Y29uc3QgdGFncyA9IHRhZ19hcnJheS5qb2luKCcsJylcblxuXHRyZXR1cm4gdGFncztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RUYXJnZXQobGluZTogc3RyaW5nKSB7XG5cdGNvbnN0IHJlZ2V4SWQgPSAvaWQ9KFxcdyspL1xuXHRjb25zdCBpZCA9IGxpbmUubWF0Y2gocmVnZXhJZCk7XG5cdGxldCB0b2RvSWQ6IHN0cmluZztcblx0aWYgKGlkICE9IG51bGwpIHtcblx0XHR0b2RvSWQgPSBpZFsxXTtcblx0fSBlbHNlIHtcblx0XHR0b2RvSWQgPSAnJ1xuXHR9XG5cblx0Y29uc3QgcmVnZXhTdGF0dXMgPSAvXFxbKC4pXFxdL1xuXHRjb25zdCBzdGF0dXMgPSBsaW5lLm1hdGNoKHJlZ2V4U3RhdHVzKVxuXHRsZXQgYWZ0ZXJTdGF0dXM6IHN0cmluZztcblx0aWYgKHN0YXR1cyAmJiBzdGF0dXNbMV0gPT0gJyAnKSB7XG5cdFx0YWZ0ZXJTdGF0dXMgPSAndHJ1ZSdcblx0fSBlbHNlIHtcblx0XHRhZnRlclN0YXR1cyA9ICdmYWxzZSdcblx0fVxuXG5cdHJldHVybiAge3RvZG9JZCwgYWZ0ZXJTdGF0dXN9XG59XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsc0JBQXFHOzs7QUNBOUYsbUJBQW1CLE1BQWM7QUFDdkMsU0FBTyxtQkFBbUIsSUFBSTtBQUM5QixTQUFPO0FBQ1I7QUFFTywyQkFBMkIsVUFBa0IsV0FBa0I7QUFDckUsUUFBTSxNQUFNLHlCQUF5QixrQkFBa0I7QUFDdkQsU0FBTztBQUNSOzs7QUNGTyxvQkFBb0IsTUFBZ0IsVUFBaUI7QUFD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dkMscUJBQVcsU0FBUyxRQUFRLFNBQVMsRUFBRTtBQUN2QyxnQkFBTSxZQUFZLFVBQVUsTUFBTSxRQUFRLENBQUM7QUFDM0MsZ0JBQU0sbUJBQW1CLGtCQUFrQixVQUFVLFNBQVM7QUFDOUQsZ0JBQU0sY0FBYyxVQUFVLGdCQUFnQjtBQUM5QyxnQkFBTSxPQUFPLGFBQWEsVUFBVSxLQUFLLFVBQVUsUUFBUTtBQUMzRCw2QkFBbUIsTUFBTSxXQUFXO0FBQUEsUUFDckM7QUFBQSxNQUNEO0FBQUEsSUFDRCxDQUFDO0FBQUEsRUFFRjtBQUFBLEVBRUEsV0FBVztBQUFBLEVBQ1g7QUFBQSxFQUVBLE1BQU0sZUFBZTtBQUNwQixTQUFLLFdBQVcsT0FBTyxPQUFPLENBQUMsR0FBRyxrQkFBa0IsTUFBTSxLQUFLLFNBQVMsQ0FBQztBQUFBLEVBQzFFO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDcEIsVUFBTSxLQUFLLFNBQVMsS0FBSyxRQUFRO0FBQUEsRUFDbEM7QUFDRDtBQUVBLElBQU0sd0JBQU4sY0FBb0MsaUNBQWlCO0FBQUEsRUFHcEQsWUFBWSxLQUFVLFFBQXVCO0FBQzVDLFVBQU0sS0FBSyxNQUFNO0FBQ2pCLFNBQUssU0FBUztBQUFBLEVBQ2Y7QUFBQSxFQUVBLFVBQWdCO0FBQ2YsVUFBTSxFQUFDLGdCQUFlO0FBRXRCLGdCQUFZLE1BQU07QUFDbEIsZ0JBQVksU0FBUyxNQUFNLEVBQUMsTUFBTSxzQ0FBcUMsQ0FBQztBQUV4RSxRQUFJLHdCQUFRLFdBQVcsRUFDckIsUUFBUSxZQUFZLEVBQ3BCLFFBQVEsNElBQzZELEVBQ3JFLFFBQVEsVUFBUSxLQUNmLGVBQWUsK0JBQStCLEVBQzlDLFNBQVMsS0FBSyxPQUFPLFNBQVMsU0FBUyxFQUN2QyxTQUFTLE9BQU8sVUFBVTtBQUMxQixXQUFLLE9BQU8sU0FBUyxZQUFZO0FBQ2pDLFlBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxJQUNoQyxDQUFDLENBQUM7QUFFSixRQUFJLHdCQUFRLFdBQVcsRUFDckIsUUFBUSxjQUFjLEVBQ3RCLFFBQVEsMEhBQzBELEVBQ2xFLFFBQVEsVUFBUSxLQUNmLGVBQWUsc0JBQXNCLEVBQ3JDLFNBQVMsS0FBSyxPQUFPLFNBQVMsV0FBVyxFQUN6QyxTQUFTLE9BQU8sVUFBVTtBQUMxQixXQUFLLE9BQU8sU0FBUyxjQUFjO0FBQ25DLFlBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxJQUNoQyxDQUFDLENBQUM7QUFBQSxFQUNMO0FBQ0Q7IiwKICAibmFtZXMiOiBbXQp9Cg==
